<?xml version="1.0" encoding="UTF-8"?>
<!-- Schema 추가 -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="com.camp.s1.camping.review.CampReviewDAO">
  
  <!-- List -->
  <select id="getBoardList" parameterType="Pager" resultType="CampReviewDTO">
  	SELECT * FROM(
  		SELECT ROWNUM R, CR.* FROM(
  			SELECT * FROM PRODUCTREVIEW
  			ORDER BY DESC
  		) PR
  	) WHERE R BETWEEN #{startRow} AND #{lastRow}
  </select>
  
  <!-- 총개수 출력 -->
  <select id="getTotalCount" parameterType="Pager" resultType="Long">
  	SELECT COUNT(NUM) FROM PRODUCTREVIEW
  </select>
  
  <!-- List에 file값을 넣기위한 쿼리 -->
  <select id="getBoardDetail" parameterType="BbsDTO" resultMap="CampReviewFileResult">
  	SELECT * FROM CAMPREVIEW
  	LEFT JOIN
  	CAMPREVIEWFILES
  	USING(NUM)
  	WHERE NUM=#{num}
  </select>
  
  </mapper>